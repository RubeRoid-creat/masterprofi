# ‚úÖ MLM –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ª—É—á—à–µ–Ω–∞!

## üéâ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

### Backend:
1. ‚úÖ **User Entity** - –¥–æ–±–∞–≤–ª–µ–Ω—ã MLM –ø–æ–ª—è:
   - referralCode (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥)
   - referrerId (–∫—Ç–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª)
   - referrer (—Å–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º)
   - referrals (–º–∞—Å—Å–∏–≤ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö)

2. ‚úÖ **MasterProfile Entity** - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
   - referralsCount (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤)
   - totalEarnings (–æ–±—â–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫)
   - totalCommissions (–æ–±—â–∏–µ –∫–æ–º–∏—Å—Å–∏–∏)
   - availableBalance (–¥–æ—Å—Ç—É–ø–Ω—ã–π –±–∞–ª–∞–Ω—Å)
   - withdrawnAmount (–≤—ã–ø–ª–∞—á–µ–Ω–æ)

3. ‚úÖ **Referral Entity** - –Ω–æ–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å:
   - referrer (–∫—Ç–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª)
   - referred (–∫–æ–≥–æ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏)
   - totalEarned (–∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ —Å —Ä–µ—Ñ–µ—Ä–∞–ª–∞)
   - ordersCount (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤)
   - isActive (–∞–∫—Ç–∏–≤–µ–Ω –ª–∏)

4. ‚úÖ **Bonus Entity** - –Ω–æ–≤–∞—è —Å—É—â–Ω–æ—Å—Ç—å:
   - type (referral, order_commission, level_bonus, monthly_bonus)
   - status (pending, approved, paid, cancelled)
   - amount (—Å—É–º–º–∞ –±–æ–Ω—É—Å–∞)
   - level (—É—Ä–æ–≤–µ–Ω—å MLM)
   - commissionRate (–ø—Ä–æ—Ü–µ–Ω—Ç –∫–æ–º–∏—Å—Å–∏–∏)

5. ‚úÖ **MLM Service** - –ø–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
   - generateReferralCode() - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞
   - getUserStats() - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - getUserStructure() - –¥–µ—Ä–µ–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
   - getOverallStats() - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - createReferral() - —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª–∞
   - calculateOrderBonus() - —Ä–∞—Å—á–µ—Ç –±–æ–Ω—É—Å–∞
   - createBonus() - —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ–Ω—É—Å–∞
   - approveAndPayBonus() - –≤—ã–ø–ª–∞—Ç–∞ –±–æ–Ω—É—Å–∞

6. ‚úÖ **MLM Controller** - 6 –Ω–æ–≤—ã—Ö endpoints:
   - GET /mlm/stats/:userId
   - GET /mlm/structure/:userId
   - GET /mlm/overall
   - GET /mlm/referral-code/:userId
   - POST /mlm/referral
   - GET /mlm/bonuses/:userId

### Frontend:
1. ‚úÖ **MLM API** - –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
   - getUserStats, getUserStructure
   - getOverallStats, getReferralCode
   - createReferral, getUserBonuses

2. ‚úÖ **MLM Page** - –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–µ–ª–∞–Ω–∞:
   - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (—Ä–µ—Ñ–µ—Ä–∞–ª—ã, –∑–∞—Ä–∞–±–æ—Ç–æ–∫, –¥–æ—Å—Ç—É–ø–Ω–æ, –≤—ã–ø–ª–∞—á–µ–Ω–æ)
   - –£—Ä–æ–≤–Ω–∏ –∫–æ–º–∏—Å—Å–∏–π (10%, 5%, 3%)
   - –î–µ—Ä–µ–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)
   - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ MLM
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

---

## üìä MLM –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

### –£—Ä–æ–≤–Ω–∏ –∏ –∫–æ–º–∏—Å—Å–∏–∏:
- **–£—Ä–æ–≤–µ–Ω—å 1:** 10% –æ—Ç –∑–∞–∫–∞–∑–æ–≤ –ø—Ä—è–º—ã—Ö —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- **–£—Ä–æ–≤–µ–Ω—å 2:** 5% –æ—Ç –∑–∞–∫–∞–∑–æ–≤ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 2-–≥–æ —É—Ä–æ–≤–Ω—è
- **–£—Ä–æ–≤–µ–Ω—å 3:** 3% –æ—Ç –∑–∞–∫–∞–∑–æ–≤ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ 3-–≥–æ —É—Ä–æ–≤–Ω—è

### –¢–∏–ø—ã –±–æ–Ω—É—Å–æ–≤:
- **referral** - —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –±–æ–Ω—É—Å
- **order_commission** - –∫–æ–º–∏—Å—Å–∏—è —Å –∑–∞–∫–∞–∑–∞
- **level_bonus** - –±–æ–Ω—É—Å –∑–∞ —É—Ä–æ–≤–µ–Ω—å
- **monthly_bonus** - –º–µ—Å—è—á–Ω—ã–π –±–æ–Ω—É—Å

### –°—Ç–∞—Ç—É—Å—ã –±–æ–Ω—É—Å–æ–≤:
- **pending** - –æ–∂–∏–¥–∞–µ—Ç –æ–¥–æ–±—Ä–µ–Ω–∏—è
- **approved** - –æ–¥–æ–±—Ä–µ–Ω
- **paid** - –≤—ã–ø–ª–∞—á–µ–Ω
- **cancelled** - –æ—Ç–º–µ–Ω–µ–Ω

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –±–æ–Ω—É—Å–æ–≤
- ‚úÖ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:
- ‚úÖ –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ MLM
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞–º–∏
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –≤—ã–ø–ª–∞—Ç
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

---

## üìç –°—Å—ã–ª–∫–∏:

- **MLM Page:** http://localhost:5173/mlm
- **Swagger:** http://localhost:3000/api/docs

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

MLM —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é!

üéâ **–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ!** üéâ

