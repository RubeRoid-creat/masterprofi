# Earnings Screen

Полнофункциональный экран заработка с отображением баланса, разбивкой доходов, историей платежей, выводом средств и всеми финансовыми инструментами.

## Особенности

✅ **Current Balance Display** - Отображение текущего баланса с разбивкой  
✅ **Income Breakdown** - Разбивка дохода по категориям (сервисные сборы, комиссии, бонусы)  
✅ **Payment History** - История платежей с фильтрами  
✅ **Withdrawal Request** - Функционал запроса вывода средств  
✅ **Tax Calculator** - Помощник расчета налогов  
✅ **Earnings Projections** - Проекции заработка на разные периоды  
✅ **Payment Method Management** - Управление способами оплаты  
✅ **Transaction Details** - Детальная информация о транзакциях  

## Компоненты

### EarningsScreen
Главный экран заработка, объединяющий все финансовые блоки.

### BalanceDisplay
Отображение баланса:
- Текущий баланс
- Доступные средства
- Ожидающие транзакции
- Средства на удержании
- Кнопка вывода

### IncomeBreakdown
Разбивка доходов:
- Столбчатая диаграмма по категориям
- Фильтрация по периодам (день, неделя, месяц, год)
- Детальная разбивка с процентами
- Визуализация через SVG

### PaymentHistory
История платежей:
- Список всех транзакций
- Фильтры по типу, статусу, дате, сумме
- Поиск по описанию
- Иконки типов транзакций
- Цветовая индикация статусов

### TransactionDetails
Детали транзакции:
- Полная информация о транзакции
- Сумма и статус
- Детали платежа
- Метаданные
- Налоговая информация

### WithdrawalRequest
Запрос вывода средств:
- Ввод суммы с валидацией
- Быстрые кнопки для процентов
- Выбор способа оплаты
- Расчет комиссии
- Подтверждение и отправка

### PaymentMethodSelector
Выбор способа оплаты:
- Список доступных методов
- Визуальные иконки
- Индикация дефолтного метода
- Статус верификации

### PaymentMethodsManager
Управление способами оплаты:
- Просмотр всех методов
- Добавление нового метода
- Редактирование
- Удаление
- Установка дефолтного метода

### TaxCalculator
Калькулятор налогов:
- Настраиваемые ставки
- Федеральный налог
- Региональный налог (опционально)
- Социальный налог (опционально)
- Расчет чистой прибыли

### EarningsProjection
Проекции заработка:
- Прогнозы на неделю, месяц, квартал, год
- Уровень уверенности
- Факторы расчета (тренд, среднее, сезонность)
- Визуализация роста

## Использование

```tsx
import { EarningsScreen } from './src/screens/EarningsScreen';

<EarningsScreen userId="user-1" />
```

## Типы данных

```typescript
interface EarningsBalance {
  current: number;
  available: number;
  pending: number;
  onHold: number;
  currency: string;
}

interface IncomeBreakdown {
  serviceFees: number;
  commissions: number;
  bonuses: number;
  referrals: number;
  total: number;
  period: 'daily' | 'weekly' | 'monthly' | 'yearly';
}

interface Transaction {
  id: string;
  type: 'income' | 'withdrawal' | 'refund' | 'bonus' | 'commission';
  amount: number;
  status: 'pending' | 'completed' | 'failed' | 'cancelled';
  description: string;
  timestamp: string;
}
```

## Фильтрация транзакций

Поддерживаемые фильтры:
- **Type** - Тип транзакции
- **Status** - Статус транзакции
- **Date Range** - Диапазон дат
- **Amount Range** - Диапазон сумм
- **Search Query** - Поиск по описанию

## Способы оплаты

Поддерживаемые типы:
- **Bank Account** - Банковский счет
- **Card** - Банковская карта
- **E-Wallet** - Электронный кошелек
- **Crypto** - Криптовалюта

## Вывод средств

Процесс вывода:
1. Выбор суммы (с валидацией min/max)
2. Выбор способа оплаты
3. Расчет комиссии
4. Подтверждение
5. Отправка запроса

Комиссия вывода: 2% (настраиваемо)

## Расчет налогов

Настраиваемые ставки:
- Федеральный налог: 13%, 15%, 20%, 30%
- Региональный налог: опционально
- Социальный налог: опционально

Автоматический расчет:
- Сумма налогов
- Чистая прибыль
- Разбивка по типам налогов

## Проекции заработка

Методы расчета:
- **Average** - На основе среднего
- **Trend** - На основе тренда
- **Conservative** - Консервативная оценка

Периоды:
- Неделя
- Месяц
- Квартал
- Год

## Производительность

- Оптимизированная загрузка истории
- Виртуализация списков
- Кэширование расчетов
- Ленивая загрузка деталей

## Безопасность

- Валидация сумм
- Защита от двойных выводов
- Верификация способов оплаты
- Шифрование чувствительных данных








